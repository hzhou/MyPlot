include: myplot/pdf.def
include: demo.def

page: test
    &call open_pdf, "/media/tmp/t.pdf"
        my $cx=$myplot::page_width/2
        my $cy=$myplot::page_height/2
        my $r=1000

        $call setdraw, fill
        $call fillcolor, black
        $call circle, $cx, $cy, 2

        my $cx2=$cx+$r*0.08
        my $cy2=$cy+$r*0.08
        $call circle, $cx2, $cy2, 2


        $call linewidth, 1
        $call setdraw, stroke
        $call circle, $cx, $cy, $r*0.1

        $call linedash, 1
        $for $kx=-0.12:0.13:0.04
            $for $ky=-0.12:0.13:0.04
                $call circle, $cx+$kx*$r, $cy+$ky*$r, 0.04*$r/2

        $(if:1)
            $call strokecolor, blue
            $call moveto, $cx2, $cy2
            $call lineto, $cx2+0.04*$r/2, $cy2
            $call draw

            $call moveto, $cx, $cy
            $call lineto, $cx+$r*0.1, $cy
            $call draw

            $call linedash, 0
            $call moveto, $cx, $cy
            $call lineto, $cx2, $cy2
            $call draw

page: test2, basic_frame, /media/tmp/t.pdf
    $set_point i=1:6, a=100
        xi=(i%3+1)*a
        yi=(i/3)*a

    $draw z1..z6
